tweets_wiki <- searchTwitter('@brwikiedits2', n=3200)
setwd("~/data/atlas/r")
d <- read.csv("r/cidades_jornalis_idhm.csv", header = T)
d <- read.csv("../tabelas/cidades_jornalis_idhm.csv", header = T)
d <- read.csv("./tabelas/cidades_jornalis_idhm.csv", header = T)
d <- read.csv("tabelas/cidades_jornalis_idhm.csv", header = T)
d <- read.csv("~/data/atlas/tabelas/cidades_jornalis_idhm.csv", header = T)
d <- read.csv("~/data/atlas/tabelas/cidades_jornais_idhm.csv", header = T)
rm(d)
d <- read.csv("../tabelas/cidades_jornais_idhm.csv", header = T)
library(tidyverse)
names(d)
str(d)
rm(d)
d <- read.csv("../tabelas/atlas_cidades_jornais+online_idhm.csv", header = T)
summary(d)
summary(d[c("meio,cidade,uf,veiculos_mapeados")])
summary(d[c("meio","cidade","uf","veiculos_mapeados")])
jornais <- subset(d, meio=="Jornais")
rm(jornais)
jornais <- subset(d, meio="Jornais")
View(jornais)
jornais <- subset(d, meio=="Jornal")
View(jornais)
names(jornais)
ggplot(jornais) + geom_point(aes(IDHM,veiculos_mapeados))
volt <- function(base_size = 13, base_family = "Merriweather Sans") {
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Inconsolata"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Inconsolata"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
}
grafico
grafico <- ggplot(jornais) +
geom_point(aes(IDHM,veiculos_mapeados)) +
geom_smooth(method='lm', se = FALSE, size = .5, colour = "#b3b3b3")
grafico
grafico <- ggplot(jornais) +
geom_point(aes(IDHM,veiculos_mapeados))
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
jornais_slim <- subset(jornais, cidade!="SÃO PAULO" & cidade!="RIO DE JANEIRO", cidade!="BRASÍLIA")
jornais_slim <- subset(jornais, cidade!="SÃO PAULO" & cidade!="RIO DE JANEIRO" & cidade!="BRASÍLIA")
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
library(ggthemes)
grafico + volt()
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Futura"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Inconsolata"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
volt <- function(base_size = 13, base_family = "Merriweather Sans") {
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Inconsolata"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Inconsolata"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
}
grafico + atlas()
atlas <- function(base_size = 13, base_family = "Merriweather Sans") {
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Inconsolata"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Inconsolata"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
}
grafico + atlas()
atlas <- function(base_size = 13, base_family = "Merriweather Sans") {
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Inconsolata"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Inconsolata"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
}
grafico + atlas()
grafico + atlas()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + atlas()
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Futura"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Futura"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Futura"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Futura"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
atlas <- function(base_size = 13, base_family = "Futura") {
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Futura"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Futura"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
}
grafico + atlas()
grafico + volt()
grafico + atlas()
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Arial"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Arial"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
grafico + atlas()
atlas <- function(base_size = 13, base_family = "Merriweather Sans") {
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Inconsolata"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Inconsolata"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
}
grafico + atlas()
atlas <- function(base_size = 13, base_family = "Futura") {
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Inconsolata"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Inconsolata"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
}
grafico + atlas()
atlas <- function(base_size = 13, base_family = "Arial") {
(theme_foundation(base_size = base_size, base_family = base_family)
+ theme(
line = element_line(colour = "#222"),
rect = element_rect(fill = "#f4f4f4",
linetype = 0, colour = NA),
text = element_text(colour = ggthemes_data$fivethirtyeight["dkgray"]),
axis.title = element_blank(),
axis.text = element_text(family="Inconsolata"),
axis.ticks = element_blank(),
axis.line = element_blank(),
legend.background = element_rect(),
legend.position = "top",
legend.direction = "horizontal",
legend.box = "vertical",
legend.margin = (margin=margin(0,0,0,0)),
panel.grid = element_line(colour = NULL),
panel.grid.major =
element_line(colour = ggthemes_data$fivethirtyeight["medgray"]),
panel.grid.minor = element_blank(),
plot.title = element_text(hjust = 0, size = rel(1.2), face = "bold", margin=margin(1,0,0,0)),
plot.subtitle = element_text(hjust = 0, margin=margin(5,0,20,0)),
plot.caption = element_text(size = 10, hjust = 0, margin=margin(30,0,0,0), family="Inconsolata"),
plot.margin = unit(c(2, 3, 2, 2), "lines"),
strip.background = element_rect()))
}
grafico + atlas()
rm(atlas)
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
names(jornais)
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
grafico + volt()
source('~/data/atlas/r/g_jornais_idhm.R')
idhm <- read.csv('./docs/idhm_cid.csv', header = T)
idhm <- read.csv('../docs/idhm_cid.csv', header = T)
View(idhm)
library(sapply
library(sapply)
new <- sapply(idhm, toupper)
View(new)
rm(d, idhm, jornais, jornais_slim)
rm(new)
d <- read.csv("../tabelas/atlas_jornais+online_cidades_idhm.csv", header = T)
getwd()
d <- read.csv("../tabelas-oficiais/atlas_jornais+online_cidades_idhm.csv", header = T)
summary(d[c("meio","cidade","uf","veiculos_mapeados")])
str(d)
summary(d[c("meio","cidade","uf","veiculos_mapeados")])
view(d)
View(d)
str(d)
rm(grafico)
summary(d[c("cidade","uf","regiao_metropolitana","veiculos_mapeados")])
View(d)
summary(d[c("cidade", "uf", "veiculos_mapeados")])
ggplot(d, aes(POP,veiculos_mapeados)) + geom_point()
ggplot(d, aes(POP,veiculos_mapeados)) + geom_point(alpha = .2)
summary(d[c("uf", "veiculos_mapeados")])
summary(d[c("uf")])
summary(d[c("uf")], maxsum = 100)
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
slim <- subset(jornais, cidade!="SÃO PAULO" & cidade!="RIO DE JANEIRO" & cidade!="BRASÍLIA")
slim <- subset(d, cidade!="SÃO PAULO" & cidade!="RIO DE JANEIRO" & cidade!="BRASÍLIA")
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
summary(slim[c("veiculos_mapeados")])
tapply(slim$veiculos_mapeados, FUN=sum)
sum(slim$veiculos_mapeados)
sum(d@veiculos_mapeados)
sum(d$veiculos_mapeados)
source('~/data/atlas/r/g_jornais_idhm.R')
graficos
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
source('~/data/atlas/r/g_jornais_idhm.R')
grafico
